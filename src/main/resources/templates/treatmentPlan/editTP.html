<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>[[${pageTitle}]]</title>
    <link
      rel="stylesheet"
      type="text/css"
      th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}"
    />
    <!-- Latest compiled and minified CSS -->
  </head>
  <body>
    <div th:replace="navbar/admin_navbar :: nav"></div>
    <div class="container-fluid">
      <div class="text-center">
        <h2>[[${pageTitle}]]</h2>
      </div>

      <form
        th:action="@{'/treatment_plans/updateTP/'+${treatment_plan.tpID}}"
        method="post"
        th:object="${treatment_plan}"
        style="max-width: 500px; margin: 0 auto"
      >
        <div class="border border-secondary rounded p-3">
          <input
            type="hidden"
            th:field="*{tpID}"
            th:value="${treatment_plan.tpID}"
          />
          <div class="form-group row">
            <label class="col-sm-4 col-form-label">Treatment plan name:</label>
            <div class="col-sm-8">
              <input
                type="text"
                th:field="*{tp_name}"
                class="form-control"
                required
              />
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-4 col-form-label">Start Date:</label>
            <div class="col-sm-8">
              <input
                type="date"
                th:field="*{start_date}"
                class="form-control"
                required
              />
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-4 col-form-label">End Date:</label>
            <div class="col-sm-8">
              <input
                type="date"
                th:field="*{end_date}"
                class="form-control"
                required
              />
            </div>
          </div>
          <div class="form-group row">
            <label class="col-sm-4 col-form-label">Treatment Frequency:</label>
            <div class="col-sm-8">
              <select
                class="form-control"
                th:field="*{treatment_frequency}"
                name="treatment_frequency"
                required
              >
                <option th:value="one_time" th:text="OneTime"></option>
                <option th:value="weekly" th:text="Weekly"></option>
                <option th:value="monthly" th:text="Monthly"></option>
              </select>
            </div>
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-primary m-2">Save</button>
            <button
              type="button"
              class="btn btn-secondary m-2"
              onclick="cancelForm();"
            >
              Cancel
            </button>
          </div>
        </div>
      </form>
    </div>
    <script type="text/javascript">
      function cancelForm() {
        window.location = "[[@{/treatment_plans/list}]]";
      }
    </script>
  </body>
</html>
